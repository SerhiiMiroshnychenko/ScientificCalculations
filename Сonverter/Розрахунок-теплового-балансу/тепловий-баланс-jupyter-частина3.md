# Розрахунок теплового балансу киснево-конвертерної плавки (Частина 3)

## Розрахунок витрати тепла

Після розрахунку надходження тепла необхідно розрахувати його витрату, яка складається з декількох компонентів.

### Тепло, що виноситься рідкою сталлю

Тепло, що виноситься рідкою сталлю, розраховується за формулою:

$$Q_{ст} = M_{ст} \cdot (54.8 + 0.84 \cdot t_{ст}), \text{ кДж}.$$

**(5.68)**

```python
def Q_st(M_st, t_st):
    """
    Розрахунок тепла, що виноситься рідкою сталлю.
    
    Параметри:
    M_st - маса сталі, кг
    t_st - температура сталі, °C
    
    Повертає:
    Кількість тепла в кДж
    """
    return M_st * (ST_COEFFICIENT_1 + ST_COEFFICIENT_2 * t_st)
```

### Тепло, що виноситься шлаком

Тепло, що виноситься шлаком, розраховується за формулою:

$$Q_{шл} = M_{шл} \cdot (2.09 \cdot t_{шл} - 1380), \text{ кДж}.$$

**(5.69)**

```python
def Q_shl(M_shl):
    """
    Розрахунок тепла, що виноситься шлаком.
    
    Параметри:
    M_shl - маса шлаку, кг
    
    Повертає:
    Кількість тепла в кДж
    """
    return M_shl * (SHL_COEFFICIENT * T_SHL - SHL_OFFSET)
```

### Тепло, що виноситься конвертерними газами

Кількість тепла, що виносять конвертерні гази, розраховують з рівняння (4.5) спочатку окремо для кожного газу з урахуванням коефіцієнтів для розрахунку їх теплоємності, а потім знаходять їх суму:

$$Q_{г.і} = 41868 \cdot V_{г.і} \cdot \frac{a(T_{ст} - T_{чав}) + b(T_{ст}^2 - T_{чав}^2) - c(\frac{1}{T_{ст}} - \frac{1}{T_{чав}})}{22.4}, \text{ кДж}.$$

**(5.70)**

де:
$V_{г.і}$ - об'єм і-го газу, м³;
$a, b, c$ - коефіцієнти для визначення теплоємності газів, кДж/(моль⋅К).

```python
def Q_g(V_gi, T_st, T_chav, coefs):
    """
    Розрахунок тепла конвертерних газів.

    Параметри:
    V_gi (dict) - об'єми газів (CO, CO2, N2...) в м³
    T_st - температура сталі в К (= t_st + 273)
    T_chav - температура чавуну в К (= t_chav + 273)
    coefs (dict) - коефіцієнти теплоємності газів з Таблиці І.2

    Повертає:
    Сумарне тепло конвертерних газів в кДж
    """
    Q_gi_sum = 0
    for gas in V_gi:
        a = coefs[gas]['a']
        # Правильно обробляємо коефіцієнт b·10³ (множимо на 10⁻³)
        b = coefs[gas]['b'] * 1e-3
        # Правильно обробляємо коефіцієнт c·10⁻⁵ (множимо на 10⁵)
        c = coefs[gas]['c'] * 1e5 if coefs[gas]['c'] != 0 else 0

        # Використовуємо формулу (5.70) з методики
        heat = CAL_TO_J * V_gi[gas] * (
                a * (T_st - T_chav) +
                b * (T_st ** 2 - T_chav ** 2) -
                c * (1 / T_st - 1 / T_chav)
        ) / MOLAR_VOLUME

        Q_gi_sum += heat

    # Переводимо результат в кДж
    return Q_gi_sum / 1000
```

### Тепло, що витрачається на дисоціацію оксидів заліза шихти

Частина тепла витрачається на дисоціацію оксидів заліза, які присутні в шихті:

$$Q_{окис}^{Fe} = 3600 \cdot 0.01 \cdot (\frac{a}{100} \cdot M_{чав} \cdot FeO_{м.ш} + \frac{c}{100} \cdot M_{м.бр} \cdot FeO_{ок}) +$$$$+ 5110 \cdot 0.01 \cdot (M_{фут} \cdot Fe_2O_3_{фут} + \frac{c}{100} \cdot M_{м.бр} \cdot Fe_2O_3_{ок}), \text{ кДж}.$$

**(5.72)**

```python
def Q_okys_Fe(M_chav, M_mbr):
    """
    Розрахунок тепла дисоціації оксидів заліза шихти.

    Параметри:
    M_chav - маса чавуну, кг
    M_mbr - маса металобрухту, кг

    Повертає:
    Тепло дисоціації оксидів заліза в кДж
    """
    # Працюємо безпосередньо з відсотками у формі від 0 до 100
    a_fraction = A_COEF / 100  # 100% -> 1.0
    c_fraction = C_COEF / 100  # 100% -> 1.0

    term1 = 3600 * 0.01 * (a_fraction * M_chav * FEO_MSH + c_fraction * M_mbr * FEO_OK)
    term2 = 5110 * 0.01 * (M_FUT * FE2O3_FUT + c_fraction * M_mbr * FE2O3_OK)

    return term1 + term2
```

### Тепло, що витрачається на дисоціацію карбонату кальцію вапна

Карбонат кальцію, який міститься у вапні, також потребує тепла для дисоціації:

$$Q_{окис}^{CaCO_3} = 4040 \cdot 0.01 \cdot M_{вап} \cdot CO_{2_{вап}}, \text{ кДж}.$$

**(5.73)**

де:
$4040$ - теплота дисоціації карбонату кальцію, кДж/кг.

```python
def Q_okys_CaCO3(M_vap):
    """
    Розрахунок тепла дисоціації карбонату кальцію вапна.

    Параметри:
    M_vap - маса вапна, кг

    Повертає:
    Тепло дисоціації карбонату кальцію в кДж
    """
    return CACO3_HEAT * PERCENT_TO_FRACTION * M_vap * CO2_VAP
``` 