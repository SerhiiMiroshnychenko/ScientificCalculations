# Практична робота №2. Кисневий баланс плавки та розрахунок режиму продувки (статична модель)

## 1) Постановка задачі
Потрібно виконати статичний розрахунок **теоретичної** та **фактичної** витрати технічного кисню для киснево-конвертерної плавки, а також визначити базові режимні параметри продувки.

Розрахунок ведеться в розрахунку на **1000 кг металевої шихти** ($m_{charge}=1000\ \text{кг}$) та виконується в логічному зв’язку з **Практичною роботою №1**.

Необхідно:

- визначити теоретичні об’єми кисню на окиснення $Si$, $Mn$, $P$, $C$ та заліза, що перейшло у шлак;
- урахувати ступінь допалювання $CO$ до $CO_2$ через параметр $PCR$;
- перейти від теоретичної потреби $V_{O_2}^{theor}$ до фактичної витрати технічного кисню $V_{O_2}^{actual}$ з урахуванням чистоти та коефіцієнта засвоєння;
- за заданою питомою інтенсивністю дуття визначити хвилинну витрату кисню та тривалість продувки;
- виконати контроль адекватності результатів (питомі витрати та часові межі).

### Вхідні дані (для кожного варіанта)
**З Практичної роботи №1:**

- $\Delta m_{Si}$, $\Delta m_{Mn}$, $\Delta m_P$, $\Delta m_C$, кг — маси елементів, що окиснилися (інтегрально за плавку) на базі $m_{charge}=1000\ \text{кг}$;
- $m_{Fe\to slag}$, кг — маса заліза, що перейшла в шлак (приймаємо, що кисень витрачено на утворення $FeO$);

**З умов варіанта (Практична №2):**

- $PCR$ — ступінь допалювання (частка вуглецю, що відповідає повному окисненню до $CO_2$), частка одиниці;
- $i_{sp}$ — питома інтенсивність продувки, $\text{Нм}^3/(\text{т}\cdot\text{хв})$.

### Уточнення щодо використання результатів Практичної роботи №1
У Практичній роботі №2 використовуються **результати** Практичної роботи №1, а саме:

- $\Delta m_{Si}$, $\Delta m_{Mn}$, $\Delta m_P$, $\Delta m_C$ — маси елементів, що окиснилися під час продувки (на базі $m_{charge}=1000\ \text{кг}$);
- $m_{Fe\to slag}$ — маса заліза, що перейшла у шлак (на базі $m_{charge}=1000\ \text{кг}$).

### Прийняті типові параметри моделі (якщо не задані окремо)
- $\varphi$ — чистота технічного кисню: $0.995$.
- $\eta_{O_2}$ — коефіцієнт засвоєння кисню ванною: $0.95$.

### Потрібно визначити
- $V_{Si}$, $V_{Mn}$, $V_P$, $V_C$, $V_{Fe}$, $\text{Нм}^3$ — об’єми кисню на окиснення окремих компонентів;
- $V_{O_2}^{theor}$, $\text{Нм}^3$ — сумарна теоретична потреба в кисні;
- $V_{O_2}^{actual}$, $\text{Нм}^3$ — фактичний об’єм технічного кисню для продувки;
- $Q_{O_2}$, $\text{Нм}^3/\text{хв}$ — хвилинна витрата кисню;
- $\tau$, хв — тривалість продувки;
- $v_{sp}$, $\text{Нм}^3/\text{т}$ — питома витрата кисню.

### Таблиця позначень

| Позначення | Опис | Одиниця вимірювання |
|:---|:---|:---:|
| $m_{charge}$ | маса металевої шихти (база розрахунку) | кг |
| $\Delta m_{Si},\ \Delta m_{Mn},\ \Delta m_P,\ \Delta m_C$ | маси елементів, що окиснилися (результати ПР №1) | кг |
| $m_{Fe\to slag}$ | маса заліза, що перейшла у шлак (приймаємо утворення $FeO$) | кг |
| $PCR$ | ступінь допалювання (частка вуглецю, що відповідає повному окисненню до $CO_2$) | частка одиниці |
| $i_{sp}$ | питома інтенсивність продувки | $\text{Нм}^3/(\text{т}\cdot\text{хв})$ |
| $q_v^{Si},\ q_v^{Mn},\ q_v^{P},\ q_v^{Fe}$ | стехіометричні коефіцієнти витрати кисню на елемент $i$ | $\text{Нм}^3/\text{кг}$ |
| $q_v^{C\to CO},\ q_v^{C\to CO_2}$ | коефіцієнти витрати кисню на вуглець для утворення $CO$ та $CO_2$ | $\text{Нм}^3/\text{кг}$ |
| $q_v^{C,avg}$ | середній (ефективний) коефіцієнт витрати кисню на вуглець | $\text{Нм}^3/\text{кг}$ |
| $V_i$ | об’єм кисню на окиснення компонента $i$ | $\text{Нм}^3$ |
| $V_{O_2}^{theor}$ | сумарний теоретичний об’єм хімічно чистого кисню | $\text{Нм}^3$ |
| $V_{O_2}^{actual}$ | фактичний об’єм технічного кисню з урахуванням втрат/домішок | $\text{Нм}^3$ |
| $\eta_{O_2}$ | коефіцієнт засвоєння кисню ванною | частка одиниці |
| $\varphi$ | чистота технічного кисню | частка одиниці |
| $Q_{O_2}$ | хвилинна витрата кисню | $\text{Нм}^3/\text{хв}$ |
| $\tau$ | тривалість продувки | хв |
| $v_{sp}$ | питома витрата кисню (на 1 т металевої шихти) | $\text{Нм}^3/\text{т}$ |

## 2) Теоретичні пояснення та обґрунтування для курсу
### Фізико-хімічний зміст кисневого балансу
Кисень у киснево-конвертерній плавці є одночасно:

- хімічним реагентом (окисник), який забезпечує рафінування металу;
- фактором формування шлаку (через утворення оксидів та підтримання окиснювальної здатності шлаку);
- чинником теплового режиму (екзотермія окиснення, у т.ч. додаткова екзотермія допалювання $CO$).

У статичній постановці ми використовуємо **інтегральні** маси окиснених елементів з ПР №1. Це означає, що кінетика (зміна швидкості реакцій у часі) тут не моделюється; натомість оцінюється сумарна потреба у кисні.

### Нормальні умови та одиниці
Об’єми газів у металургійних розрахунках зазвичай задають у **нормальних кубічних метрах** ($\text{Нм}^3$), тобто за умов $0^\circ C$ та $101.325\ \text{кПа}$. Саме до цих умов прив’язані стехіометричні коефіцієнти $q_v$.

## 3) Покроковий аналітичний розв'язок

### Крок 1. Стехіометричні коефіцієнти витрати кисню
Для переходу від маси окисненого елемента (кг) до об’єму кисню (Нм³) використовуємо коефіцієнти виду:

$$
V_i = \Delta m_i\,q_v^i.
$$

У цій роботі приймаємо такі значення (Нм³ $O_2$ на 1 кг елемента):

- $q_v^{Si} = 0.798$ для $Si + O_2 \to SiO_2$,
- $q_v^{Mn} = 0.204$ для $Mn + 0.5O_2 \to MnO$,
- $q_v^{P} = 0.905$ для $2P + 2.5O_2 \to P_2O_5$,
- $q_v^{Fe} = 0.201$ для $Fe + 0.5O_2 \to FeO$,
- $q_v^{C\to CO} = 0.933$ для $C + 0.5O_2 \to CO$,
- $q_v^{C\to CO_2} = 1.866$ для $C + O_2 \to CO_2$.

де:

- $q_v^i$ — теоретичний коефіцієнт, $\text{Нм}^3/\text{кг}$;
- $\Delta m_i$ — маса окисненого елемента (за ПР №1), кг.

### Крок 2. Кисень на окиснення $Si$, $Mn$, $P$, $Fe$
$$
V_{Si} = \Delta m_{Si}\,q_v^{Si},\quad
V_{Mn} = \Delta m_{Mn}\,q_v^{Mn},\quad
V_P = \Delta m_P\,q_v^{P},\quad
V_{Fe} = m_{Fe\to slag}\,q_v^{Fe}.
$$

### Крок 3. Кисень на окиснення вуглецю з урахуванням допалювання
Параметр $PCR$ інтерпретуємо як **частку вуглецю**, якій відповідає повне окиснення до $CO_2$.

Середній коефіцієнт витрати кисню на вуглець:

$$
q_v^{C,avg} = q_v^{C\to CO}(1 - PCR) + q_v^{C\to CO_2}\,PCR.
$$

Тоді:

$$
V_C = \Delta m_C\,q_v^{C,avg}.
$$

### Крок 4. Сумарна теоретична потреба в кисні
$$
V_{O_2}^{theor} = V_{Si} + V_{Mn} + V_P + V_{Fe} + V_C.
$$

### Крок 5. Перехід до фактичного об’єму технічного кисню
$$
V_{O_2}^{actual} = \frac{V_{O_2}^{theor}}{\eta_{O_2}\,\varphi}.
$$

де:

- $\eta_{O_2}$ — коефіцієнт засвоєння кисню ванною (частка одиниці);
- $\varphi$ — чистота технічного кисню (частка одиниці).

### Крок 6. Розрахунок параметрів продувки
Оскільки база розрахунку $m_{charge}=1000\ \text{кг} = 1\ \text{т}$, хвилинна витрата кисню дорівнює:

$$
Q_{O_2} = i_{sp}\cdot\left(\frac{m_{charge}}{1000}\right) = i_{sp}.
$$

Тривалість продувки:

$$
\tau = \frac{V_{O_2}^{actual}}{Q_{O_2}}.
$$

Питома витрата кисню (для контролю адекватності):

$$
v_{sp} = \frac{V_{O_2}^{actual}}{m_{charge}/1000} \quad [\text{Нм}^3/\text{т}].
$$

## 4) Розв'язок за допомогою python скрипта

```python
"""Практична робота №2 (Python).
Кисневий баланс плавки та розрахунок режиму продувки (статична модель).
"""

# =========================================================
# ВХІДНІ ДАНІ (ВАРІАНТ 20 — демонстраційний приклад)
# =========================================================

variant_no = 20

# База розрахунку
m_charge = 1000.0  # кг

# Дані з Практичної №1 (маси окиснених елементів на 1 т шихти)
# За потреби заміни значень: підставте свої результати ПР №1 для цього варіанта
dSi = 10.504
dMn = 5.179
dP = 0.202
dC = 31.879
m_Fe_to_slag = 16.631

# Дані варіанта для Практичної №2
PCR = 0.150  # частка повного окиснення C до CO2
i_sp = 4.00  # Нм3/(т*хв)

# Типові параметри
eta_O2 = 0.95
phi_O2 = 0.995

# =========================================================
# КОНСТАНТИ — СТЕХІОМЕТРИЧНІ КОЕФІЦІЄНТИ (Нм3/кг)
# =========================================================

q_v_Si = 0.798
q_v_Mn = 0.204
q_v_P = 0.905
q_v_Fe = 0.201

q_v_C_CO = 0.933
q_v_C_CO2 = 1.866

# =========================================================
# РОЗРАХУНОК
# =========================================================

# 1) Кисень на Si, Mn, P, Fe
V_Si = dSi * q_v_Si
V_Mn = dMn * q_v_Mn
V_P = dP * q_v_P
V_Fe = m_Fe_to_slag * q_v_Fe

# 2) Кисень на вуглець з урахуванням PCR
q_v_C_avg = q_v_C_CO * (1.0 - PCR) + q_v_C_CO2 * PCR
V_C = dC * q_v_C_avg

# 3) Теоретичний об’єм
V_O2_theor = V_Si + V_Mn + V_P + V_Fe + V_C

# 4) Фактичний об’єм
V_O2_actual = V_O2_theor / (eta_O2 * phi_O2)

# 5) Параметри продувки
Q_O2 = i_sp * (m_charge / 1000.0)  # Нм3/хв
blow_time = V_O2_actual / Q_O2     # хв

# =========================================================
# ВИВІД
# =========================================================

print("=" * 72)
print(f"Практична робота №2 (Python). Варіант {variant_no}")
print("=" * 72)
print("1) Складові теоретичної потреби в кисні (Нм3):")
print(f"   V(Si) = {V_Si:.3f}")
print(f"   V(Mn) = {V_Mn:.3f}")
print(f"   V(P)  = {V_P:.3f}")
print(f"   V(Fe) = {V_Fe:.3f}")
print(f"   q_v(C,avg) = {q_v_C_avg:.5f} Нм3/кг")
print(f"   V(C)  = {V_C:.3f}")
print("-" * 72)
print("2) Підсумок:")
print(f"   V_theor   = {V_O2_theor:.3f} Нм3")
print(f"   V_actual  = {V_O2_actual:.3f} Нм3")
print("-" * 72)
print("3) Режим продувки:")
print(f"   Q_O2      = {Q_O2:.2f} Нм3/хв")
print(f"   blow_time = {blow_time:.2f} хв")
print("=" * 72)
```

### Порівняння аналітичного розв'язку та Python-скрипта (варіант 20)

Python-скрипт реалізує ті самі формули, що й аналітичний розрахунок. Для варіанта 20 числові результати мають співпадати (з точністю округлення) для ключових контрольних величин:

| Контрольна величина | Аналітичний розрахунок (варіант 20) | Python-скрипт (варіант 20) | Різниця |
|---|---:|---:|---:|
| $q_v^{C,avg}$, Нм³/кг | 1.07295 | 1.07295 | 0.00000 |
| $V_C$, Нм³ | 34.203 | 34.203 | 0.000 |
| $V_{O_2}^{theor}$, Нм³ | 47.169 | 47.169 | 0.000 |
| $V_{O_2}^{actual}$, Нм³ | 49.901 | 49.901 | 0.000 |
| $\tau$, хв | 12.48 | 12.48 | 0.00 |

## 5) Висновки
1. Статичний кисневий баланс безпосередньо залежить від інтегральних мас окиснених елементів, отриманих у матеріальному балансі. Тому якість ПР №2 визначається коректністю ПР №1.
2. Вуглець формує основну частку витрати кисню, а параметр $PCR$ суттєво впливає на підсумкову потребу в кисні через збільшення частки повного окиснення.
3. Коефіцієнти $\eta_{O_2}$ та $\varphi$ узагальнюють реальні втрати та домішки в технічному кисні. Навіть за помірних значень втрат (5–7%) фактична витрата помітно перевищує теоретичну.
4. Параметри продувки ($i_{sp}$, $\tau$) у статичній моделі розглядаються як середні. У реальному процесі інтенсивність може змінюватися в часі (перехід від «м’якої» до «жорсткої» продувки).

## 6) 20 варіантів завдань для самостійного вирішення
У всіх варіантах базу розрахунку прийняти $m_{charge}=1000\ \text{кг}$.

Для кожного варіанта:

- $PCR$ та $i_{sp}$ беруться з таблиці нижче.
- $\Delta m_{Si}$, $\Delta m_{Mn}$, $\Delta m_P$, $\Delta m_C$, $m_{Fe\to slag}$ необхідно взяти **зі свого розрахунку Практичної №1** для того самого номера варіанта.

| Варіант | $PCR$ | $i_{sp}$, Нм³/(т·хв) |
|---:|---:|---:|
| 1 | 0.100 | 3.10 |
| 2 | 0.103 | 3.15 |
| 3 | 0.106 | 3.20 |
| 4 | 0.109 | 3.25 |
| 5 | 0.112 | 3.30 |
| 6 | 0.115 | 3.35 |
| 7 | 0.118 | 3.40 |
| 8 | 0.121 | 3.45 |
| 9 | 0.124 | 3.50 |
| 10 | 0.127 | 3.55 |
| 11 | 0.130 | 3.60 |
| 12 | 0.133 | 3.65 |
| 13 | 0.136 | 3.70 |
| 14 | 0.139 | 3.75 |
| 15 | 0.142 | 3.80 |
| 16 | 0.145 | 3.85 |
| 17 | 0.148 | 3.90 |
| 18 | 0.150 | 3.95 |
| 19 | 0.150 | 4.00 |
| 20 | 0.150 | 4.00 |

### Розрахунок усіх 20 варіантів (Python)

У цьому блоці `PCR` та `i_sp` беруться з таблиці варіантів ПР №2. Значення $\Delta m_{Si}$, $\Delta m_{Mn}$, $\Delta m_P$, $\Delta m_C$, $m_{Fe\to slag}$ потрібно заповнити зі своїх результатів **Практичної роботи №1** для відповідних варіантів.

```python
"""Практична робота №2 (Python).
Пакетний розрахунок для всіх 20 варіантів.

Важливо:
- PCR та i_sp задані нижче відповідно до таблиці варіантів ПР2.
- Δm_* та m_Fe_to_slag потрібно заповнити зі своїх результатів ПР1.
"""

phi_O2 = 0.995
eta_O2 = 0.95

q_v_Si = 0.798
q_v_Mn = 0.204
q_v_P = 0.905
q_v_Fe = 0.201

q_v_C_CO = 0.933
q_v_C_CO2 = 1.866

m_charge = 1000.0  # кг (1 т)

variants = [
    {"no": 1,  "PCR": 0.100, "i_sp": 3.10, "dSi": None, "dMn": None, "dP": None, "dC": None, "mFe": None},
    {"no": 2,  "PCR": 0.103, "i_sp": 3.15, "dSi": None, "dMn": None, "dP": None, "dC": None, "mFe": None},
    {"no": 3,  "PCR": 0.106, "i_sp": 3.20, "dSi": None, "dMn": None, "dP": None, "dC": None, "mFe": None},
    {"no": 4,  "PCR": 0.109, "i_sp": 3.25, "dSi": None, "dMn": None, "dP": None, "dC": None, "mFe": None},
    {"no": 5,  "PCR": 0.112, "i_sp": 3.30, "dSi": None, "dMn": None, "dP": None, "dC": None, "mFe": None},
    {"no": 6,  "PCR": 0.115, "i_sp": 3.35, "dSi": None, "dMn": None, "dP": None, "dC": None, "mFe": None},
    {"no": 7,  "PCR": 0.118, "i_sp": 3.40, "dSi": None, "dMn": None, "dP": None, "dC": None, "mFe": None},
    {"no": 8,  "PCR": 0.121, "i_sp": 3.45, "dSi": None, "dMn": None, "dP": None, "dC": None, "mFe": None},
    {"no": 9,  "PCR": 0.124, "i_sp": 3.50, "dSi": None, "dMn": None, "dP": None, "dC": None, "mFe": None},
    {"no": 10, "PCR": 0.127, "i_sp": 3.55, "dSi": None, "dMn": None, "dP": None, "dC": None, "mFe": None},
    {"no": 11, "PCR": 0.130, "i_sp": 3.60, "dSi": None, "dMn": None, "dP": None, "dC": None, "mFe": None},
    {"no": 12, "PCR": 0.133, "i_sp": 3.65, "dSi": None, "dMn": None, "dP": None, "dC": None, "mFe": None},
    {"no": 13, "PCR": 0.136, "i_sp": 3.70, "dSi": None, "dMn": None, "dP": None, "dC": None, "mFe": None},
    {"no": 14, "PCR": 0.139, "i_sp": 3.75, "dSi": None, "dMn": None, "dP": None, "dC": None, "mFe": None},
    {"no": 15, "PCR": 0.142, "i_sp": 3.80, "dSi": None, "dMn": None, "dP": None, "dC": None, "mFe": None},
    {"no": 16, "PCR": 0.145, "i_sp": 3.85, "dSi": None, "dMn": None, "dP": None, "dC": None, "mFe": None},
    {"no": 17, "PCR": 0.148, "i_sp": 3.90, "dSi": None, "dMn": None, "dP": None, "dC": None, "mFe": None},
    {"no": 18, "PCR": 0.150, "i_sp": 3.95, "dSi": None, "dMn": None, "dP": None, "dC": None, "mFe": None},
    {"no": 19, "PCR": 0.150, "i_sp": 4.00, "dSi": None, "dMn": None, "dP": None, "dC": None, "mFe": None},
    {"no": 20, "PCR": 0.150, "i_sp": 4.00, "dSi": None, "dMn": None, "dP": None, "dC": None, "mFe": None},
]


def compute_variant(v):
    dSi = v["dSi"]
    dMn = v["dMn"]
    dP = v["dP"]
    dC = v["dC"]
    mFe = v["mFe"]
    PCR = v["PCR"]
    i_sp = v["i_sp"]

    if any(x is None for x in (dSi, dMn, dP, dC, mFe)):
        return None

    V_Si = dSi * q_v_Si
    V_Mn = dMn * q_v_Mn
    V_P = dP * q_v_P
    V_Fe = mFe * q_v_Fe

    q_v_C_avg = q_v_C_CO * (1.0 - PCR) + q_v_C_CO2 * PCR
    V_C = dC * q_v_C_avg

    V_O2_theor = V_Si + V_Mn + V_P + V_Fe + V_C
    V_O2_actual = V_O2_theor / (eta_O2 * phi_O2)

    Q_O2 = i_sp * (m_charge / 1000.0)
    tau = V_O2_actual / Q_O2

    return {
        "V_theor": V_O2_theor,
        "V_actual": V_O2_actual,
        "Q_O2": Q_O2,
        "tau": tau,
    }


print("| Варіант | PCR | i_sp, Нм3/(т·хв) | V_theor, Нм3 | V_actual, Нм3 | Q_O2, Нм3/хв | τ, хв |")
print("|---:|---:|---:|---:|---:|---:|---:|")

for v in variants:
    res = compute_variant(v)
    if res is None:
        print(f"| {v['no']} | {v['PCR']:.3f} | {v['i_sp']:.2f} | - | - | - | - |")
    else:
        print(
            f"| {v['no']} | {v['PCR']:.3f} | {v['i_sp']:.2f} | "
            f"{res['V_theor']:.3f} | {res['V_actual']:.3f} | {res['Q_O2']:.2f} | {res['tau']:.2f} |"
        )
```
