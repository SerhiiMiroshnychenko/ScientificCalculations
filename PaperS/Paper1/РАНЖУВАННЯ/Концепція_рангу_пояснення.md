# Концепція рангу в агрегації оцінок значущості ознак

У контексті оцінювання значущості ознак для прогнозування успішності B2B-замовлень постає необхідність уніфікації результатів різних методів оцінки, які можуть використовувати різні шкали та діапазони значень. Для вирішення цієї методологічної проблеми застосовується рангова трансформація, яка забезпечує порівнянність результатів через перетворення абсолютних значень значущості у відносні ранги.

Ранг ознаки $f_i$ за методом $m_j$ математично визначається формулою:

$$R_j(f_i) = |\{f_l \in F \, | \, S_j(f_l) \geq S_j(f_i)\}|$$

У даній формулі кожен компонент має чітке змістове призначення:
- $f_i$ — ознака, для якої обчислюється ранг (наприклад, "вік клієнта")
- $F$ — повна множина всіх досліджуваних ознак
- $f_l$ — будь-яка ознака з множини $F$, що виступає змінною при порівнянні
- $S_j(f_i)$ — значення показника значущості, яке метод $m_j$ присвоює ознаці $f_i$
- $S_j(f_l) \geq S_j(f_i)$ — умова, що значущість ознаки $f_l$ не менша за значущість ознаки $f_i$
- $\{f_l \in F \, | \, S_j(f_l) \geq S_j(f_i)\}$ — множина всіх ознак, значущість яких не менша за значущість ознаки $f_i$
- $|\cdot|$ — потужність множини, тобто кількість елементів, які відповідають умові $S_j(f_l) \geq S_j(f_i)$

Умова $S_j(f_l) \geq S_j(f_i)$ визначає, що ми враховуємо лише ті ознаки $f_l$, значущість яких не менша за значущість досліджуваної ознаки $f_i$. Потужність множини в даному контексті — це просто кількість таких ознак, включно з самою ознакою $f_i$. Таким чином, якщо ознака має найвище значення показника значущості, то її ранг дорівнюватиме 1, оскільки лише вона сама задовольняє умову "не менш значуща, ніж вона сама". Ознака з другим за величиною значенням показника матиме ранг 2, оскільки дві ознаки (вона сама та найбільш значуща) задовольняють умову. Отже, менший ранг відповідає більш значущим ознакам.

Застосування рангової трансформації надає суттєві методологічні переваги. По-перше, вона забезпечує інваріантність щодо шкал вимірювання, дозволяючи порівнювати результати методів, які використовують різні діапазони значень (наприклад, AUC з діапазоном [0.5, 1] та метрики на основі ентропії). По-друге, рангова трансформація значно зменшує вплив викидів та екстремальних значень, оскільки враховує лише порядок елементів, а не абсолютні величини різниць між ними. По-третє, такий підхід створює уніфіковану основу для подальшої агрегації рангів через методи, подібні до модифікованого методу Борда, забезпечуючи обґрунтоване консолідоване ранжування ознак.
