<img src="https://r2cdn.perplexity.ai/pplx-full-logo-primary-dark%402x.png" class="logo" width="120"/>

# Аналіз статистичної моделі прогнозування з автоматичним вибором методів порівняння груп

Проаналізований скрипт представляє комплексну статистичну систему для порівняння двох груп з автоматичним вибором найбільш підходящих методів аналізу на основі попередньої оцінки розподілу даних. Система реалізує гібридний підхід, що поєднує параметричні та непараметричні методи статистичного аналізу, забезпечуючи надійність результатів незалежно від характеристик вхідних даних. Основою моделі є послідовна перевірка нормальності розподілу за допомогою трьох незалежних тестів, на основі якої приймається рішення про застосування відповідних статистичних процедур порівняння груп[^1].

## Теоретичні основи та методологічний підхід

### Концептуальна база статистичного моделювання

Реалізована модель базується на фундаментальних принципах порівняльної статистики та теорії прийняття рішень. Центральною концепцією є адаптивний вибір статистичних методів залежно від властивостей розподілу даних, що відповідає сучасним рекомендаціям щодо робастності статистичного аналізу. Система використовує стратифіковане розбиття даних на тренувальну та тестову вибірки, що забезпечує збереження пропорцій цільової змінної та підвищує валідність результатів[^1].

Методологічний підхід грунтується на принципі послідовного тестування гіпотез, де спочатку перевіряється відповідність даних нормальному розподілу, а потім обирається відповідний метод порівняння груп. Такий підхід мінімізує ризик помилок першого та другого роду, особливо в умовах порушення припущень параметричних тестів. Система також інтегрує оцінку розміру ефекту, що дозволяє не лише виявити статистичну значущість різниць, але й оцінити їх практичну важливість.

### Алгоритмічна архітектура системи

Архітектура системи побудована за модульним принципом з чіткою послідовністю етапів обробки даних. Початковий етап включає завантаження та підготовку даних з автоматичною обробкою пропущених значень та від'ємних значень, що підвищує стабільність подальшого аналізу. Система реалізує комплексну систему логування, що забезпечує повну трасованість процесу аналізу та відтворюваність результатів[^1].

Ключовою особливістю архітектури є використання класу NumpyEncoder для серіалізації результатів, що дозволяє зберігати комплексні статистичні об'єкти у форматі JSON. Це забезпечує можливість подальшого аналізу результатів та їх інтеграцію з іншими системами. Модульна структура також дозволяє легко розширювати функціональність системи додаванням нових статистичних методів або модифікацією існуючих.

## Методи оцінки нормальності розподілу

### Тест Шапіро-Вілка

Тест Шапіро-Вілка є одним з найпотужніших тестів нормальності для малих та середніх вибірок. Система реалізує адаптивний підхід до його застосування, автоматично обмежуючи розмір вибірки до 5000 спостережень для уникнення обмежень методу. Тест базується на порівнянні впорядкованих статистик з очікуваними значеннями для нормального розподілу, що робить його особливо чутливим до відхилень від нормальності в хвостах розподілу[^1].

Статистика Шапіро-Вілка обчислюється як квадрат лінійної комбінації впорядкованих статистик, поділений на скориговану суму квадратів відхилень. Високі значення статистики (близькі до 1) свідчать про відповідність нормальному розподілу, тоді як низькі значення вказують на значні відхилення. Система використовує стандартний рівень значущості α = 0.05 для прийняття рішення про нормальність розподілу.

### Тест Д'Агостіно-Пірсона

Тест Д'Агостіно-Пірсона (також відомий як тест нормальності Д'Агостіно) є комбінованим тестом, що оцінює як асиметрію, так і ексцес розподілу. Система автоматично перевіряє мінімальні вимоги до розміру вибірки (n ≥ 20) перед застосуванням цього тесту. Метод особливо ефективний для виявлення відхилень від нормальності, пов'язаних з асиметрією та "важкими хвостами" розподілу[^1].

Тест поєднує дві компоненти: статистику асиметрії та статистику ексцесу, кожна з яких має приблизно нормальний розподіл при нульовій гіпотезі. Комбінована статистика має хі-квадрат розподіл з двома ступенями свободи, що дозволяє точно оцінити p-значення. Перевагою цього методу є його стабільність для великих вибірок та здатність виявляти специфічні типи відхилень від нормальності.

### Тест Андерсона-Дарлінга

Тест Андерсона-Дарлінга належить до сімейства тестів типу Колмогорова-Смірнова, але з більшою чутливістю до відхилень у хвостах розподілу. Система реалізує повну процедуру тестування з визначенням p-значення на основі критичних значень для різних рівнів значущості. Цей тест особливо корисний для виявлення тонких відхилень від нормальності, які можуть бути пропущені іншими методами[^1].

Статистика Андерсона-Дарлінга обчислюється як зважена інтегральна міра відстані між емпіричною та теоретичною функціями розподілу, з більшими вагами у хвостах розподілу. Система використовує табульовані критичні значення для п'яти рівнів значущості (15%, 10%, 5%, 2.5%, 1%) та реалізує алгоритм для приблизної оцінки p-значення на основі порівняння з цими критичними точками.

## Стратегія вибору статистичних методів

### Алгоритм прийняття рішень

Система реалізує складний алгоритм прийняття рішень для вибору між параметричними та непараметричними методами аналізу. Рішення базується на принципі консенсусу: якщо принаймні два з трьох тестів нормальності підтверджують нормальний розподіл для обох груп, обирається параметричний підхід. В іншому випадку система автоматично переходить до непараметричних методів[^1].

Такий підхід забезпечує високу надійність вибору методу, оскільки різні тести нормальності мають різну чутливість до різних типів відхилень від нормальності. Консенсусний підхід мінімізує ризик помилкового вибору методу через специфічності окремого тесту. Система також враховує розміри вибірок та наявність варіації в даних при прийнятті остаточного рішення.

### Параметричні методи порівняння

Для випадків, коли обидві групи мають нормальний розподіл, система застосовує t-тест Велча (Welch's t-test), який не вимагає рівності дисперсій між групами. Цей вибір методу є методологічно обґрунтованим, оскільки припущення про рівність дисперсій часто порушується в реальних даних. Тест Велча використовує модифіковану формулу для обчислення ступенів свободи, що забезпечує точніші результати при нерівних дисперсіях[^1].

Система також обчислює розмір ефекту за Cohen's d, який є стандартизованою мірою різниці між середніми значеннями груп. Cohen's d інтерпретується як кількість стандартних відхилень, на яку відрізняються середні значення груп, що дозволяє оцінити практичну значущість виявлених різниць. Додатково розраховується 95% довірчий інтервал для різниці середніх, що надає інформацію про точність оцінки та статистичну невизначеність.

### Непараметричні методи та оцінка ефекту

У випадках порушення припущень про нормальність розподілу система переходить до непараметричних методів, зокрема тесту Манна-Вітні U. Цей тест порівнює медіани груп та є робастним до викидів і нелінійних трансформацій даних. Тест базується на рангах спостережень, що робить його незалежним від конкретного типу розподілу[^1].

Для оцінки розміру ефекту в непараметричному контексті система обчислює площу під кривою (AUC) ROC-аналізу. AUC інтерпретується як імовірність того, що випадково обране спостереження з однієї групи матиме більше значення, ніж випадково обране спостереження з іншої групи. Значення AUC = 0.5 відповідає відсутності різниць між групами, тоді як значення близько 0 або 1 вказують на сильні різниці.

## Технічна реалізація та валідація

### Система управління якістю даних

Реалізована система включає комплексні механізми контролю якості вхідних даних. Автоматична заміна від'ємних значень нулями є обґрунтованим підходом для багатьох типів даних (наприклад, часових інтервалів, кількостей), але потребує обережного застосування в інших контекстах. Система також виявляє та логує пропущені значення, надаючи детальну статистику їх розподілу по колонках[^1].

Стратифіковане розбиття на тренувальну та тестову вибірки забезпечує збереження пропорцій цільової змінної в обох частинах датасету. Це критично важливо для валідної оцінки ефективності моделі та запобігання зміщенням у результатах. Система використовує фіксоване зерно генератора випадкових чисел для забезпечення відтворюваності результатів.

### Статистична звітність та інтерпретація

Система генерує комплексні звіти з детальним логуванням всіх етапів аналізу та їх результатів. Звіти включають базову описову статистику (середнє, медіана, стандартне відхилення, коефіцієнт варіації), статистики форми розподілу (асиметрія, ексцес) та результати всіх проведених тестів. Такий підхід забезпечує повну трасованість аналізу та можливість верифікації результатів[^1].

Особливої уваги заслуговує реалізація автоматичної інтерпретації результатів з формуванням висновків про статистичну та практичну значущість виявлених різниць. Система надає як абсолютні, так і відносні міри ефекту, що дозволяє оцінити результати в контексті конкретної предметної області. Довірчі інтервали для ключових статистик додатково підвищують інформативність звітів.

## Висновки

Проаналізована статистична модель представляє сучасний підхід до порівняльного аналізу груп з автоматичним вибором оптимальних методів. Система успішно поєднує надійність статистичних процедур з практичністю автоматизованого аналізу, що робить її придатною для широкого спектра застосувань. Використання множинних тестів нормальності та консенсусного підходу до вибору методів підвищує робастність результатів та мінімізує ризик методологічних помилок[^1].

Технічна реалізація демонструє високий рівень інженерної практики з належною увагою до контролю якості даних, відтворюваності результатів та комплексності звітності. Модульна архітектура забезпечує можливості для подальшого розвитку та адаптації до специфічних потреб різних предметних областей. Система може служити надійною основою для прийняття обґрунтованих рішень на основі статистичного аналізу порівняльних даних.

<div style="text-align: center">⁂</div>

[^1]: paste.txt

[^2]: https://academic.oup.com/biomet/article-abstract/52/3-4/591/336553

[^3]: https://en.wikipedia.org/wiki/D'Agostino's_K-squared_test

[^4]: https://en.wikipedia.org/wiki/Anderson–Darling_test

[^5]: https://en.wikipedia.org/wiki/Welch's_t-test

[^6]: https://www.uv.es/~friasnav/EffectSizeBecker.pdf

[^7]: https://en.wikipedia.org/wiki/Mann–Whitney_U_test

[^8]: https://www.utstat.toronto.edu/brunner/oldclass/378f16/readings/CohenPower.pdf

[^9]: https://pubmed.ncbi.nlm.nih.gov/7063747/

[^10]: https://en.wikipedia.org/wiki/Shapiro–Wilk_test

[^11]: https://real-statistics.com/tests-normality-and-symmetry/statistical-tests-normality-symmetry/dagostino-pearson-test/

[^12]: http://www.nematrian.com/AndersonDarling

[^13]: https://zeta-project.eu/en/keyness-measures/welchs-t-test/

[^14]: https://files.eric.ed.gov/fulltext/EJ1252652.pdf

[^15]: https://www.taylorfrancis.com/books/mono/10.4324/9780203771587/statistical-power-analysis-behavioral-sciences-jacob-cohen

[^16]: https://real-statistics.com/statistics-tables/shapiro-wilk-table/

[^17]: https://pubmed.ncbi.nlm.nih.gov/7501755/

[^18]: https://www.routledge.com/Statistical-Power-Analysis-for-the-Behavioral-Sciences/Cohen/p/book/9780805802832

[^19]: https://www.datanovia.com/apps/statfusion/analysis/inferential/mean-comparisons/two-sample/welchs-t-test-calculator-unequal-variances.html

[^20]: https://docs.opendeved.net/lib/9UDZ3UVQ

[^21]: https://stats.stackexchange.com/questions/70959/should-i-use-welchs-1947-approximate-degrees-of-freedom-or-satterthwaites-1

[^22]: https://www.scirp.org/reference/referencespapers

[^23]: https://www.jstor.org/stable/2333709

[^24]: http://citebay.com/how-to-cite/shapiro-wilk-test/

[^25]: https://lsj.readthedocs.io/it/latest/Ch11/Ch11_tTest_04/

[^26]: https://www.semanticscholar.org/paper/On-a-Test-of-Whether-one-of-Two-Random-Variables-is-Mann-Whitney/60f788264e6278374be9dabd8e2a644cc65129b6

[^27]: https://www.scirp.org/reference/ReferencesPapers

[^28]: https://www.sciencedirect.com/book/9780121790608/statistical-power-analysis-for-the-behavioral-sciences

[^29]: https://www.jstor.org/stable/20182143

[^30]: https://books.google.com/books/about/Statistical_Power_Analysis_for_the_Behav.html?id=cIJH0lR33bgC

[^31]: https://pubmed.ncbi.nlm.nih.gov/6878708/

[^32]: http://scielo.sld.cu/scieloOrg/php/reflinks.php?lng=en\&pid=S1029-30192009000100012

[^33]: http://europepmc.org/article/MED/7063747

[^34]: http://www.med.mcgill.ca/epidemiology/hanley/software/hanley_mcneil_radiology_82.pdf

[^35]: https://pubs.rsna.org/doi/pdf/10.1148/radiology.143.1.7063747

