# Науковий звіт про розробку та оцінку статистичної моделі прогнозування успішності замовлень

## Анотація

У даному дослідженні представлено процес розробки та валідації статистичної моделі для прогнозування успішності замовлень. [cite_start]На основі набору даних, що містить 86794 записи[cite: 1], було проведено аналіз 19 числових ознак для виявлення їхнього впливу на цільову змінну — статус успішності замовлення. [cite_start]Оскільки тести на нормальність, зокрема тести Шапіро-Вілка та Д'Агостіно-Пірсона, показали, що розподіл даних для більшості ознак не є нормальним [cite: 4, 5, 7, 8, 10, 11, 13, 14, 16, 17, 19, 20, 22, 23, 25, 26, 28, 29, 31, 32, 34, 35, 37, 38, 40, 41, 43, 44, 46, 47, 49, 50, 52, 53, 55, 56, 58, 59][cite_start], для оцінки статистичної значущості було використано непараметричний U-тест Манна-Уітні[cite: 5, 8, 11, 14, 17, 20, 23, 26, 29, 32, 35, 38, 41, 44, 47, 50, 53, 56, 59]. [cite_start]Модель, побудована на основі 17 статистично значущих предикторів [cite: 60][cite_start], продемонструвала здатність до прогнозування із загальною точністю 65.55% [cite: 66] [cite_start]та показником ROC AUC 0.7222 [cite: 66] на тестовій вибірці. [cite_start]Найбільш впливовими факторами виявилися кількість повідомлень у замовленні (`order_messages`), показник успішності партнера (`partner_success_rate`) та кількість змін у замовленні (`order_changes`)[cite: 62]. Результати підкреслюють ефективність застосування непараметричних методів для аналізу даних зі складними розподілами та створюють основу для подальшого вдосконалення прогностичних систем.

## Вступ

Прогнозування результатів комерційних операцій є ключовим завданням для оптимізації бізнес-процесів та підвищення ефективності. Метою даної роботи було створення та оцінка статистичної моделі, здатної прогнозувати ймовірність успішного завершення замовлення на основі набору історичних даних. [cite_start]Аналіз проводився на основі датасету, що містив 86794 транзакції, кожна з яких характеризувалася 25 параметрами[cite: 1]. [cite_start]Цільова змінна, 'is_successful', мала бінарний розподіл: 63.10% замовлень були класифіковані як успішні, а 36.90% — як неуспішні[cite: 1]. Це дослідження фокусується на ідентифікації ключових факторів, що впливають на успішність замовлень, та на кількісній оцінці їхньої важливості.

## Матеріали та методи

[cite_start]Для дослідження було використано набір даних `cleanest_data.csv` обсягом 86794 рядків[cite: 1]. [cite_start]Попередня обробка включала заміну 3 від'ємних значень у колонці `order_amount` нулями[cite: 1]. [cite_start]Для побудови та перевірки моделі дані було розділено на тренувальну (70.00% або 60755 записів) та тестову (30.00% або 26039 записів) вибірки зі збереженням пропорційного розподілу цільової змінної[cite: 1].

[cite_start]Статистичний аналіз проводився для 19 числових ознак[cite: 1]. Для кожної ознаки оцінювалася нормальність розподілу в групах успішних та неуспішних замовлень за допомогою тестів Шапіро-Вілка, Д'Агостіно-Пірсона та Андерсона-Дарлінга. [cite_start]У зв'язку з тим, що для більшості змінних гіпотеза про нормальність розподілу була відхилена [cite: 5, 8, 11, 14, 17, 20, 23, 26, 32, 35, 38, 41, 44, 47, 50, 53, 56][cite_start], було прийнято рішення використовувати непараметричний U-тест Манна-Уітні для порівняння груп[cite: 5]. [cite_start]Розмір ефекту оцінювався за допомогою показника AUC (Area Under the Curve), який інтерпретувався для визначення важливості кожної ознаки[cite: 5]. [cite_start]На основі розміру ефекту для кожної статистично значущої змінної було розраховано її вагу у фінальній моделі[cite: 60].

[cite_start]Модель прогнозування є системою зваженого голосування, де кожна з 17 значущих ознак вносить свій вклад у фінальну оцінку на основі порівняння її значення з визначеним порогом[cite: 62, 63, 64, 65].

## Результати

[cite_start]Аналіз 19 числових ознак виявив, що 17 з них мають статистично значущий вплив на успішність замовлення (p < 0.05)[cite: 60]. [cite_start]Дві ознаки, `partner_fail_avg_amount` (p = 0.76863614) [cite: 29] [cite_start]та `discount_total` (p = 0.26707663)[cite: 59], не продемонстрували статистично значущої різниці між групами і були виключені з подальшого моделювання.

Узагальнені результати аналізу значущості представлені в таблиці нижче.

| Назва Ознаки | AUC (Розмір ефекту) | Інтерпретація AUC | p-значення | Статистична значущість |
| :--- | :--- | :--- | :--- | :--- |
| `order_messages` | [cite_start]0.7710 [cite: 8] | [cite_start]Великий [cite: 8] | [cite_start]0.00000000 [cite: 8] | Так |
| `partner_success_rate` | [cite_start]0.6978 [cite: 14] | [cite_start]Середній [cite: 14] | [cite_start]0.00000000 [cite: 14] | Так |
| `order_changes` | [cite_start]0.6415 [cite: 11] | [cite_start]Середній [cite: 11] | [cite_start]0.00000000 [cite: 11] | Так |
| `partner_total_messages` | [cite_start]0.5933 [cite: 32] | [cite_start]Малий [cite: 32] | [cite_start]0.00000000 [cite: 32] | Так |
| `partner_total_orders` | [cite_start]0.5893 [cite: 17] | [cite_start]Малий [cite: 17] | [cite_start]0.00000000 [cite: 17] | Так |
| `order_lines_count` | [cite_start]0.5831 [cite: 56] | [cite_start]Малий [cite: 56] | [cite_start]0.00000000 [cite: 56] | Так |
| `partner_order_age_days` | [cite_start]0.5782 [cite: 20] | [cite_start]Малий [cite: 20] | [cite_start]0.00000000 [cite: 20] | Так |
| `partner_avg_changes` | [cite_start]0.5718 [cite: 41] | [cite_start]Малий [cite: 41] | [cite_start]0.00000000 [cite: 41] | Так |
| `partner_success_avg_amount`| [cite_start]0.5652 [cite: 26] | [cite_start]Малий [cite: 26] | [cite_start]0.00000000 [cite: 26] | Так |
| `order_amount` | [cite_start]0.5567 [cite: 5] | [cite_start]Малий [cite: 5] | [cite_start]0.00000000 [cite: 5] | Так |
| `partner_fail_avg_messages`| [cite_start]0.5438 [cite: 38] | [cite_start]Незначний [cite: 38] | [cite_start]0.00000000 [cite: 38] | Так |
| `partner_success_avg_changes`| [cite_start]0.5427 [cite: 44] | [cite_start]Незначний [cite: 44] | [cite_start]0.00000000 [cite: 44] | Так |
| `partner_fail_avg_changes` | [cite_start]0.5390 [cite: 47] | [cite_start]Незначний [cite: 47] | [cite_start]0.00000000 [cite: 47] | Так |
| `hour_of_day` | [cite_start]0.5384 [cite: 53] | [cite_start]Незначний [cite: 53] | [cite_start]0.00000000 [cite: 53] | Так |
| `partner_success_avg_messages`| [cite_start]0.5322 [cite: 35] | [cite_start]Незначний [cite: 35] | [cite_start]0.00000000 [cite: 35] | Так |
| `partner_avg_amount` | [cite_start]0.5179 [cite: 23] | [cite_start]Незначний [cite: 23] | [cite_start]0.00000000 [cite: 23] | Так |
| `quarter` | [cite_start]0.5091 [cite: 50] | [cite_start]Незначний [cite: 50] | [cite_start]0.00011107 [cite: 50] | Так |
| `partner_fail_avg_amount` | [cite_start]0.5007 [cite: 29] | [cite_start]Незначний [cite: 29] | [cite_start]0.76863614 [cite: 29] | Ні |
| `discount_total` | [cite_start]0.5001 [cite: 59] | [cite_start]Незначний [cite: 59] | [cite_start]0.26707663 [cite: 59] | Ні |

[cite_start]На основі розрахованих ваг було визначено рейтинг важливості ознак[cite: 62]. [cite_start]Найбільший вплив мають `order_messages` (вага 0.5420), `partner_success_rate` (вага 0.3956) та `order_changes` (вага 0.2830)[cite: 62].

[cite_start]Застосування моделі до тестової вибірки з 26039 спостережень [cite: 63] дало наступні метрики ефективності.

| Метрика | Значення |
| :--- | :--- |
| Точність (Accuracy) | [cite_start]0.6555 [cite: 66] |
| Збалансована точність (Balanced Accuracy) | [cite_start]0.6578 [cite: 66] |
| Точність для класу "Успішні" (Precision) | [cite_start]0.7690 [cite: 66] |
| Повнота для класу "Успішні" (Recall) | [cite_start]0.6489 [cite: 66] |
| Специфічність (Specificity) | [cite_start]0.6667 [cite: 66] |
| F1-міра | [cite_start]0.7039 [cite: 66] |
| ROC AUC | [cite_start]0.7222 [cite: 66] |

Матриця помилок показує детальний розподіл результатів прогнозування.

| | Прогноз: Неуспішні | Прогноз: Успішні |
| :--- | :--- | :--- |
| **Фактично: Неуспішні** | [cite_start]6407 [cite: 66] | [cite_start]3203 [cite: 66] |
| **Фактично: Успішні** | [cite_start]5768 [cite: 66] | [cite_start]10661 [cite: 66] |

## Обговорення

Результати дослідження демонструють, що розроблена статистична модель має помірну, але значущу прогностичну силу. [cite_start]Показник ROC AUC 0.7222 [cite: 66] свідчить про те, що модель працює значно краще, ніж випадкове вгадування. [cite_start]Точність у 65.55% [cite: 66] є прийнятним результатом для моделі, заснованої на простих статистичних порогах.

[cite_start]Найважливішим предиктором успішності замовлення є `order_messages`[cite: 62], що вказує на те, що інтенсивність комунікації в рамках замовлення безпосередньо корелює з позитивним результатом. [cite_start]Висока вага ознаки `partner_success_rate` [cite: 62] підтверджує логічне припущення, що надійність та досвідченість партнера є критично важливими. [cite_start]Напрямок впливу для більшості факторів є позитивним, тобто більші значення ознаки збільшують ймовірність успіху[cite: 62]. [cite_start]Винятками є `hour_of_day` та `partner_avg_amount`, для яких менші значення асоціюються з успіхом[cite: 62].

[cite_start]Модель демонструє відносно високу точність (Precision) для успішних замовлень (0.7690)[cite: 67], що означає, що якщо модель прогнозує успіх, вона здебільшого не помиляється. [cite_start]Водночас показник повноти (Recall) 0.6489 [cite: 67] вказує на те, що модель пропускає близько 35% фактично успішних замовлень. Схожа ситуація спостерігається і для неуспішних замовлень. Це свідчить про потенціал для подальшого вдосконалення, можливо, шляхом впровадження більш складних алгоритмів машинного навчання або додавання нових ознак.

## Висновок

У ході дослідження була успішно розроблена та протестована статистична модель для прогнозування успішності замовлень. [cite_start]Було виявлено 17 статистично значущих факторів, серед яких ключовими є кількість повідомлень у замовленні, загальний показник успішності партнера та кількість змін у замовленні[cite: 62]. [cite_start]Створена модель, що базується на непараметричних методах, продемонструвала задовільну прогностичну здатність з ROC AUC 0.7222[cite: 66]. Результати аналізу надають цінну інформацію про динаміку взаємовідносин, що ведуть до успішного завершення замовлень, та можуть бути використані для оптимізації бізнес-стратегій. Подальша робота може бути спрямована на підвищення повноти прогнозування та тестування більш комплексних моделей.

## Додатки

[cite_start]Усі візуалізації, включаючи ROC-криву, матрицю помилок, розподіл ймовірностей та графік важливості ознак, були збережені в директорії `results_visualizations`[cite: 68]. [cite_start]Детальні результати роботи моделі збережені у файлі `statistical_model_results.json`[cite: 68].