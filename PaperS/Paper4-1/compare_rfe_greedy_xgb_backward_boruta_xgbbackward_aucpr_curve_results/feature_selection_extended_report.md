# Розширений звіт з аналізу методів відбору ознак для бінарної класифікації

## Вступ

У цьому дослідженні проведено комплексний аналіз різних підходів до відбору ознак для задачі бінарної класифікації. Основна мета полягала у визначенні методів, які дозволяють досягти найкращої якості моделі за метрикою AUC-PR при мінімальній кількості ознак, а також у дослідженні інформативності та стабільності ознак для різних стратегій відбору.

## Порівняння кривих AUC-PR для різних методів

На рисунку нижче (рис. 1) представлено залежність AUC-PR від кількості ознак для кожного з шести методів відбору. Для кожного методу підписано максимальне досягнуте значення метрики.

![AUC-PR криві для різних методів](compare_aucpr_curve_12_24_from_results.png)

Аналізуючи графік, можна зробити висновок, що найвищий результат (AUC-PR = 0.97785) досягнуто для зворотного Greedy при використанні 16 ознак. Зворотній XGBoost показав другий результат — 0.97767 при 14 ознаках. Прямий XGBoost та прямий Greedy також продемонстрували високі результати, однак для досягнення максимуму їм знадобилася більша кількість ознак (24 та 22 відповідно). Метод RFE забезпечив максимальний AUC-PR 0.97752 при 16 ознаках, а Boruta — 0.97712 при 19 ознаках. Криві наочно демонструють, що збільшення кількості ознак не завжди призводить до покращення якості, а оптимальні набори можуть бути досить компактними. Це свідчить про важливість ретельного підходу до відбору ознак для підвищення ефективності моделей машинного навчання.

## Візуалізація включення ознак у найкращі набори

Для ілюстрації того, які ознаки потрапляють у найкращі набори для кожного методу, була побудована теплова карта (рис. 2). Ознаки впорядковано згідно з їхньою важливістю у XGBoost, що дозволяє оцінити не лише частоту їхнього включення, а й їхню відносну значущість у загальному рейтингу.

![Теплова карта включення ознак](feature_selection_heatmap.png)

З аналізу теплової карти видно, що найважливіші ознаки за XGBoost, такі як order_messages, create_date_months, order_amount, partner_success_rate, майже завжди потрапляють у найкращі набори незалежно від методу. Деякі ознаки, наприклад quarter, discount_total, hour_of_day, day_of_week, рідко або взагалі не обираються більшістю методів. Це свідчить про існування ядра ознак, які є стабільно важливими для всіх підходів, а також про наявність специфічних ознак, що обираються лише окремими методами. Така візуалізація дозволяє не лише порівняти підходи, а й виявити ознаки, які мають найбільший вплив на якість моделі.

## Кількісна оцінка стабільності ознак

Для кількісної оцінки стабільності ознак була побудована гістограма, яка відображає, скільки методів обрали кожну ознаку у свій оптимальний набір (рис. 3).

![Гістограма частоти включення ознак](feature_selection_feature_count_hist.png)

Гістограма демонструє, що існує група ознак, які були обрані всіма шістьма методами. До цієї групи належать order_messages, create_date_months, order_amount, order_changes, source, order_lines_count, partner_success_avg_amount, salesperson, partner_order_age_days, partner_total_orders, partner_success_avg_messages. Ознаки з найменшою частотою включення, такі як quarter, discount_total, month, hour_of_day, day_of_week, можуть вважатися менш інформативними або специфічними для окремих підходів. Така візуалізація дозволяє швидко ідентифікувати найбільш стабільні ознаки для задачі та рекомендувати їх для подальшого використання у практичних застосуваннях машинного навчання.

## Висновки

Проведений аналіз показав, що найбільш ефективними для задачі бінарної класифікації за AUC-PR є методи зворотного відбору ознак, зокрема зворотній Greedy та зворотній XGBoost, які дозволяють досягти найкращого балансу між якістю та компактністю моделі. Класичні підходи, такі як RFE та Boruta, також забезпечують конкурентоспроможні результати, однак можуть потребувати більшої кількості ознак для досягнення аналогічної якості. Візуалізації, інтегровані у даний звіт, дозволили не лише порівняти якість моделей, а й виявити набір ознак, які є найбільш стабільними та інформативними для різних стратегій відбору. Це створює підґрунтя для рекомендацій щодо використання цих ознак у майбутніх практичних задачах машинного навчання. 