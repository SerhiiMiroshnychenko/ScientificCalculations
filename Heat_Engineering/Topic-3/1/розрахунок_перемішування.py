#!/usr/bin/env python
# -*- coding: utf-8 -*-

"""
Розрахунок необхідної витрати аргону через пористу донну пробку для забезпечення
заданої питомої потужності перемішування сталі в пристрої ківш-піч.
"""

# Вихідні дані
H = 3.2                 # Глибина ванни, м
m = 120                 # Маса металу у ківші, т
T = 1595 + 273.15       # Температура металу, К (переведення з °C)
M = 40                  # Молекулярна маса газу (аргон), кг/кмоль
rho_n = 1.78            # Густина газу за нормальних умов, кг/м³
R = 8314                # Універсальна газова стала, Дж/(кмоль·К)
p_0 = 101325            # Атмосферний тиск, Па
rho_m = 7000            # Середня густина рідкої сталі, кг/м³
g = 9.81                # Прискорення вільного падіння, м/с²
P_p = 12                # Задана питома потужність перемішування, Вт/т
T_n = 273               # Температура за нормальних умов, К

# Виведення вихідних даних
print("="*60)
print("ВИХІДНІ ДАНІ:")
print(f"Глибина ванни: {H} м")
print(f"Маса металу у ківші: {m} т")
print(f"Температура металу: {T-273.15} °C ({T} К)")
print(f"Молекулярна маса аргону: {M} кг/кмоль")
print(f"Густина аргону за нормальних умов: {rho_n} кг/м³")
print(f"Задана питома потужність перемішування: {P_p} Вт/т")
print("="*60)

# 1. Визначення тиску на глибині ванни
p = p_0 + rho_m * g * H
print(f"\n1. ВИЗНАЧЕННЯ ТИСКУ НА ГЛИБИНІ ВАННИ")
print(f"p = p₀ + ρₘ·g·H = {p_0} + {rho_m}·{g}·{H} = {p:.2f} Па")

# 2. Визначення густини газу при температурі металу
rho_g = (p * M) / (R * T)
print(f"\n2. ВИЗНАЧЕННЯ ГУСТИНИ ГАЗУ ПРИ ТЕМПЕРАТУРІ МЕТАЛУ")
print(f"ρᵣ = (p·M)/(R·T) = ({p}·{M})/({R}·{T}) = {rho_g:.6f} кг/м³")

# 3. Розрахунок необхідної загальної потужності перемішування
P = P_p * m
print(f"\n3. РОЗРАХУНОК НЕОБХІДНОЇ ЗАГАЛЬНОЇ ПОТУЖНОСТІ ПЕРЕМІШУВАННЯ")
print(f"P = P_п·m = {P_p}·{m} = {P} Вт")

# 4. Визначення об'ємної витрати газу при температурі металу
Q_liters_per_sec = P / (rho_g * g * H)
Q = Q_liters_per_sec / 1000  # Переведення з л/с в м³/с
print(f"\n4. ВИЗНАЧЕННЯ ОБ'ЄМНОЇ ВИТРАТИ ГАЗУ ПРИ ТЕМПЕРАТУРІ МЕТАЛУ")
print(f"Q = P/(ρᵣ·g·H) = {P}/({rho_g:.6f}·{g}·{H}) = {Q_liters_per_sec:.2f} л/с = {Q:.6f} м³/с")

# 5. Перерахунок витрати газу до нормальних умов
Q_n = Q * (p * T_n) / (p_0 * T)
Q_n_per_hour = Q_n * 3600  # Переведення в м³/год
print(f"\n5. ПЕРЕРАХУНОК ВИТРАТИ ГАЗУ ДО НОРМАЛЬНИХ УМОВ")
print(f"Q_н = Q·(p·T_н)/(p_н·T) = {Q:.6f}·({p}·{T_n})/({p_0}·{T}) = {Q_n:.6f} м³/с = {Q_n_per_hour:.2f} м³/год")

# Висновок
print("\n"+"="*60)
print("ВИСНОВОК:")
print(f"Для забезпечення питомої потужності перемішування {P_p} Вт/т")
print(f"у ківш-печі з масою металу {m} т необхідна витрата аргону")
print(f"через пористу донну пробку становить {Q_n_per_hour:.1f} м³/год за нормальних умов.")
print("="*60)
