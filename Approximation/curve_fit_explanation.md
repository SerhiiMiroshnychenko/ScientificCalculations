# Пояснення використання curve_fit та параметру p0 в апроксимації температурного розподілу

## Загальний опис curve_fit

Функція `curve_fit` з модуля `scipy.optimize` використовується для нелінійної апроксимації методом найменших квадратів. Основна сигнатура функції:

```python
scipy.optimize.curve_fit(f, xdata, ydata, p0=None, sigma=None, absolute_sigma=False, 
                       check_finite=True, bounds=(-np.inf, np.inf), method=None, 
                       jac=None, **kwargs)
```

## Детальний аналіз параметру p0

Параметр `p0` визначає початкові значення параметрів для процесу оптимізації. Розглянемо його використання для кожної функції апроксимації.

### 1. Експоненціальна функція

```python
def exp_func(x, a, b):
    return a * np.exp(b * x)

p0=[1400, -0.001]
```

#### Параметри:
- **a = 1400**: початкове значення амплітуди
  * Обрано близько до максимальної температури в даних
  * Занадто мале значення (наприклад, 100) може завадити знаходженню правильного розв'язку
  * Занадто велике значення (наприклад, 10000) може викликати проблеми з числовою стабільністю

- **b = -0.001**: початковий коефіцієнт загасання
  * Від'ємне значення через спадання температури з глибиною
  * Значення -0.001 забезпечує плавне спадання: exp(-0.001 * 400) ≈ 0.67
  * Більше значення (наприклад, -0.1) дало б занадто різке спадання: exp(-0.1 * 400) ≈ 0

### 2. Логарифмічна функція

```python
def log_func(x, a, b):
    return a * np.log(x + 1) + b

p0=[1400, -100]
```

#### Параметри:
- **a = 1400**: коефіцієнт масштабування логарифма
  * Велике значення необхідне через малі значення ln(x+1)
  * Для x = 400: ln(401) ≈ 6, тому потрібен великий коефіцієнт

- **b = -100**: зміщення по осі Y
  * Від'ємне значення компенсує великий коефіцієнт a
  * Значення -100 дозволяє досягти потрібного діапазону температур

### 3. Степенева функція

```python
def power_func(x, a, b):
    return a * np.power(x + 1, b)

p0=[1400, -0.1]
```

#### Параметри:
- **a = 1400**: початковий масштабний коефіцієнт
  * Близько до максимальної температури
  * Визначає загальний масштаб функції

- **b = -0.1**: початковий показник степеня
  * Від'ємний для забезпечення спадання
  * Значення -0.1 дає помірне спадання: (401)^(-0.1) ≈ 0.37

## Важливі аспекти вибору p0

### Критерії вибору
1. Фізична обґрунтованість значень
2. Близькість до очікуваного результату
3. Забезпечення числової стабільності

### Наслідки невдалого вибору p0
- Алгоритм може не зійтися
- Можливе застрягання в локальному мінімумі
- Ризик числових проблем (переповнення або втрата значущості)

### Приклад поганого вибору
```python
# Занадто малі значення
p0=[1, -1]  

# Занадто великі значення
p0=[10000, -10]
```

## Обґрунтування вибору p0 для нашого випадку

При виборі значень p0 враховано:
1. Діапазон вхідних даних (глибина 0-400 мм)
2. Діапазон вихідних даних (температура 900-1410°C)
3. Очікуваний характер залежності (плавне спадання)

## Висновки

Правильний вибір початкових наближень (p0) є критично важливим для успішної апроксимації даних. У нашому випадку значення підібрані з урахуванням фізичного змісту задачі та математичних особливостей використовуваних функцій, що забезпечило успішну збіжність алгоритму оптимізації.
