# Пояснення використання curve_fit для аналізу вмісту вуглецю

## Загальний опис методу апроксимації

У скрипті `analyze_carbon_exp1_python.py` використовується функція `curve_fit` з модуля `scipy.optimize` для нелінійної апроксимації експериментальних даних методом найменших квадратів. Метою є знаходження залежності вмісту вуглецю від розміру фракцій.

## Детальний аналіз функцій апроксимації

### 1. Експоненціальна функція

```python
def exp_func(x, a, b):
    return a * np.exp(b * x)

p0=[3.0, -0.1]
```

#### Параметри:
- **a = 3.0**: початкове значення амплітуди
  * Обрано близько до середнього значення вмісту вуглецю (1.79-4.42%)
  * Значення в середині діапазону даних забезпечує кращу збіжність
  * Занадто велике значення може призвести до нестабільності

- **b = -0.1**: початковий коефіцієнт експоненти
  * Від'ємне значення через спадання вмісту вуглецю зі збільшенням розміру фракції
  * Значення -0.1 забезпечує помірне спадання: exp(-0.1 * 11) ≈ 0.33
  * Більше значення призвело б до занадто різкого спадання

### 2. Логарифмічна функція

```python
def log_func(x, a, b):
    return a * np.log(x) + b

p0=[-0.5, 4]
```

#### Параметри:
- **a = -0.5**: коефіцієнт масштабування логарифма
  * Від'ємне значення через обернену залежність
  * Помірне значення для плавної зміни

- **b = 4**: зміщення по осі Y
  * Близько до максимального вмісту вуглецю (4.42%)
  * Компенсує від'ємний внесок логарифмічного члена

### 3. Степенева функція

```python
def power_func(x, a, b):
    return a * np.power(x, b)

p0=[3.0, -0.1]
```

#### Параметри:
- **a = 3.0**: початковий масштабний коефіцієнт
  * Близько до середнього значення вмісту вуглецю
  * Визначає загальний масштаб функції

- **b = -0.1**: початковий показник степеня
  * Від'ємний для забезпечення спадання
  * Помірне значення для плавної зміни: 11^(-0.1) ≈ 0.82

## Важливі аспекти вибору початкових наближень

### Критерії вибору
1. Фізичний зміст параметрів
   * Параметри повинні відповідати характеру залежності
   * Значення мають бути в межах реалістичних діапазонів

2. Математична обґрунтованість
   * Уникнення числової нестабільності
   * Забезпечення збіжності алгоритму

3. Специфіка даних
   * Врахування діапазону значень
   * Врахування характеру залежності

### Можливі проблеми при невдалому виборі
```python
# Занадто малі значення
p0=[0.1, -0.01]  # Може не відобразити реальну залежність

# Занадто великі значення
p0=[10, -1.0]    # Може призвести до нестабільності
```

## Обґрунтування вибору для нашого випадку

При виборі значень p0 враховано:
1. Діапазон розмірів фракцій (0.5-11.0 мм)
2. Діапазон вмісту вуглецю (1.79-4.42%)
3. Характер залежності (спадання зі збільшенням розміру)

## Порівняння типів апроксимації

### Поліноміальні апроксимації
- Лінійна: найпростіша, але часто достатня
- Квадратична: краще описує нелінійність
- Кубічна та 4-го ступеню: можуть краще описувати локальні особливості

### Нелінійні апроксимації
- Експоненціальна: добре описує швидке спадання
- Логарифмічна: підходить для повільного спадання
- Степенева: універсальна для різних типів залежності

## Висновки

1. Вибір початкових наближень базується на фізичному розумінні процесу та математичних властивостях функцій.
2. Різні типи апроксимації дозволяють знайти найкращий опис експериментальних даних.
3. Коефіцієнт детермінації (R²) допомагає оцінити якість апроксимації.
