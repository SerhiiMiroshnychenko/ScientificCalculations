# Розрахунок коефіцієнту детермінації (R²)

Коефіцієнт детермінації (R²) є статистичною мірою, яка представляє частку дисперсії залежної змінної, що пояснюється незалежною змінною або змінними в регресійній моделі.

## Математична формула

R² розраховується за формулою:

```
R² = 1 - (SS_res / SS_tot)
```

де:
- SS_res (Sum of Squares of Residuals) - сума квадратів залишків
- SS_tot (Total Sum of Squares) - загальна сума квадратів

### Компоненти формули:

1. **SS_res** розраховується як:
```
SS_res = Σ(y_true - y_pred)²
```
де:
- y_true - фактичні значення
- y_pred - передбачені моделлю значення

2. **SS_tot** розраховується як:
```
SS_tot = Σ(y_true - y_mean)²
```
де:
- y_mean - середнє значення фактичних даних

## Реалізація в Python

```python
def r_squared(y_true, y_pred):
    """
    Розрахунок коефіцієнту детермінації R²
    
    Параметри:
    y_true : array-like - фактичні значення
    y_pred : array-like - передбачені значення
    
    Повертає:
    float : значення R²
    """
    # Сума квадратів залишків
    ss_res = np.sum((y_true - y_pred) ** 2)
    
    # Загальна сума квадратів
    ss_tot = np.sum((y_true - np.mean(y_true)) ** 2)
    
    # Розрахунок R²
    return 1 - (ss_res / ss_tot)

# Приклад використання:
R2 = r_squared(actual_values, predicted_values)
```

## Реалізація в MATLAB

```matlab
function R2 = calculateRSquared(yTrue, yPred)
    % Розрахунок коефіцієнту детермінації R²
    %
    % Вхідні параметри:
    % yTrue - фактичні значення
    % yPred - передбачені значення
    %
    % Вихідні параметри:
    % R2 - значення коефіцієнту детермінації
    
    % Сума квадратів залишків
    SSres = sum((yTrue - yPred).^2);
    
    % Загальна сума квадратів
    SStot = sum((yTrue - mean(yTrue)).^2);
    
    % Розрахунок R²
    R2 = 1 - (SSres/SStot);
end

% Приклад використання:
% R2 = calculateRSquared(actual_values, predicted_values);
```

## Інтерпретація результатів

- **R² = 1**: Ідеальна апроксимація - модель точно описує всі дані
- **R² = 0**: Модель не краща за горизонтальну лінію на рівні середнього значення
- **0 < R² < 1**: Показує, яку частку дисперсії даних пояснює модель
- **R² < 0**: Можливе, але означає, що модель працює гірше, ніж проста горизонтальна лінія

### Приклади інтерпретації:
- R² = 0.95 → модель пояснює 95% варіації даних
- R² = 0.70 → модель пояснює 70% варіації даних
- R² = 0.50 → модель пояснює лише 50% варіації даних

## Важливі зауваження

1. R² завжди потрібно розглядати разом з іншими показниками якості моделі
2. Високе значення R² не гарантує, що модель є найкращою
3. При порівнянні моделей з різною кількістю параметрів краще використовувати скоригований R²
4. R² особливо корисний при порівнянні моделей одного типу на одному наборі даних

## Використання в наукових роботах

При написанні наукових робіт рекомендується:
1. Вказувати метод розрахунку R²
2. Наводити значення R² разом з графіками
3. Пояснювати, чому отримане значення R² є прийнятним для вашого дослідження
4. Порівнювати R² різних моделей, якщо це доречно
